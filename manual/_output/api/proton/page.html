<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>Proton::Page</title>
<meta charset='UTF-8' />
<meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible' />
<meta content='width=device-width, initial-scale=1.0' name='viewport' />
<link href='../../style.css?1311492788' rel='stylesheet' />
</head>
<body>
<div id='top'>
<a href='../../' id='logo'>
Proton manual
</a>
</div>
<div id='area'>
<div id='content'>
<div class='c'>
<div id='crumbs'>
<a href='../../index.html'>Proton manual</a>
<span class='gt'>&rarr;</span>
<a href='../../api.html'>API reference</a>
<span class='gt'>&rarr;</span>
<a href='../../api/proton.html'>Proton</a>
<span class='gt'>&rarr;</span>
<strong>Proton::Page</strong>
</div>
<hgroup>
<h1>Proton::Page</h1>
<h5>A page.</h5>
</hgroup>
<div class='content'>
<h2>Common usage</h2>

<p>Getting pages from paths:</p>

<pre><code># Feed it a URL path, not a filename.
page = Proton::Page['/index.html']        # uses Proton.project
page = Proton::Page['/index.html', project]
</code></pre>

<p>Getting pages from files:</p>

<pre><code># Feed it a file name, not a URL path.
# Also, this does no sanity checks.
page = Proton::Page.new('/home/rsc/index.html', project)

page.exists?
page.valid?
</code></pre>

<p>Paths:</p>

<pre><code>page.filepath          #=&gt; "index.haml"    -- path in the filesystem
page.path              #=&gt; "/index.html"   -- path as a RUL
</code></pre>

<p>Meta:</p>

<pre><code>page.meta              #=&gt; OpenStruct of the metadata
page.title             #=&gt; "Welcome to my site!"

page.layout            #   Proton::Layout or nil
page.layout?
</code></pre>

<p>Types:</p>

<pre><code>page.html?
page.mime_type        #=&gt; "text/html" or nil  -- only for tilt? == true
page.default_ext      #=&gt; "html"
</code></pre>

<p>Contents:</p>

<pre><code>page.to_html
page.to_html(locals=<a href="../.html"></a>)
page.content
page.markup
</code></pre>

<p>Traversion:</p>

<pre><code># Pages (a Proton::Page or nil)
page.parent
page.next

# Sets (a Proton::Set)
page.children
page.siblings
page.breadcrumbs

# Misc
page.index?            # if it's an index.html
page.parent?
page.root?             # true if no parents
page.depth
</code></pre>

<p>Tilt:</p>

<pre><code>page.tilt?             #   true, if it's a dynamic file
page.tilt_engine_name  #=&gt; 'RedCloth'
</code></pre>

<p>Building:</p>

<pre><code>page.write
page.write('~/foo.html')
</code></pre>

<h3>Attributes</h3>
<ul class='section'>
<li>
<a href='../../api/proton/page/breadcrumbs_.html'>breadcrumbs</a>
<span class='brief'>Returns an array of the page's ancestors, including itself.</span>
</li>
<li>
<a href='../../api/proton/page/default_ext_.html'>default_ext</a>
<span class='brief'>Returns a default extension for the page based on the page's MIME type.</span>
</li>
<li>
<a href='../../api/proton/page/depth_.html'>depth</a>
<span class='brief'>Returns how deep the page is in the heirarchy.</span>
</li>
<li>
<a href='../../api/proton/page/file_.html'>file</a>
<span class='brief'>The full path of the source file.</span>
</li>
<li>
<a href='../../api/proton/page/filepath_.html'>filepath</a>
<span class='brief'>Returns a short filepath relative to the project path.</span>
</li>
<li>
<a href='../../api/proton/page/mime_type_.html'>mime_type</a>
<span class='brief'>The MIME type for the page, based on what template engine was used.</span>
</li>
<li>
<a href='../../api/proton/page/parent_.html'>parent</a>
<span class='brief'>Returns the page's parent page, or nil.</span>
</li>
<li>
<a href='../../api/proton/page/project_.html'>project</a>
<span class='brief'>A reference to the project.</span>
</li>
<li>
<a href='../../api/proton/page/tilt_.html'>tilt</a>
<span class='brief'>Returns the tilt layout.</span>
</li>
<li>
<a href='../../api/proton/page/tilt_engine_.html'>tilt_engine</a>
<span class='brief'>Returns the Tilt engine (eg Tilt::HamlEngine).</span>
</li>
<li>
<a href='../../api/proton/page/title_.html'>title</a>
<span class='brief'>Returns the page title as a string.</span>
</li>
</ul>
<h3>Methods</h3>
<ul class='section'>
<li>
<a href='../../api/proton/page/children_.html'>children</a>
<span class='brief'>Returns a Set of the page's subpages.</span>
</li>
<li>
<a href='../../api/proton/page/default_layout_.html'>default_layout</a>
<span class='brief'>Returns the default layout.</span>
</li>
<li>
<a href='../../api/proton/page/get_type_.html'>get_type</a>
<span class='brief'>Returns a page subtype.</span>
</li>
<li>
<a href='../../api/proton/page/html_question_.html'>html?</a>
<span class='brief'>Returns true if the page is an HTML page.</span>
</li>
<li>
<a href='../../api/proton/page/index_question_.html'>index?</a>
<span class='brief'>Returns true if the page is and index page.</span>
</li>
<li>
<a href='../../api/proton/page/meta_.html'>meta</a>
<span class='brief'>Returns the metadata for the page.</span>
</li>
<li>
<a href='../../api/proton/page/parent_question_.html'>parent?</a>
<span class='brief'>Returns true if the page has a parent.</span>
</li>
<li>
<a href='../../api/proton/page/root_question_.html'>root?</a>
<span class='brief'>Returns true if the page is the home page.</span>
</li>
<li>
<a href='../../api/proton/page/siblings_.html'>siblings</a>
<span class='brief'>Returns a Set of pages that share the same parent as the current page.</span>
</li>
<li>
<a href='../../api/proton/page/tilt_question_.html'>tilt?</a>
<span class='brief'>Checks if the file is supported by tilt.</span>
</li>
<li>
<a href='../../api/proton/page/to_html_.html'>to_html</a>
<span class='brief'>Returns the full HTML document for the page.</span>
</li>
<li>
<a href='../../api/proton/page/write_.html'>write</a>
<span class='brief'>Writes to the given output file.</span>
</li>
</ul>
</div>
</div>
<nav id='nav'>
<nav class='parents'>
<ul>
<li>
<a href='../../index.html'>
<span class='back'>&lsaquo;</span>
<em></em>
Proton manual
</a>
</li>
<li>
<a href='../../api.html'>
<span class='back'>&lsaquo;</span>
<em></em>
API reference
</a>
</li>
<li>
<a href='../../api/proton.html'>
<span class='back'>&lsaquo;</span>
<em>class</em>
Proton
</a>
</li>
<li>
<a class='active' href='../../api/proton/page.html'>
<em>class</em>
Proton::Page
</a>
</li>
</ul>
</nav>
<nav>
<h4>Attributes</h4>
<ul>
<li>
<a class='' href='../../api/proton/page/breadcrumbs_.html'>
breadcrumbs
</a>
</li>
<li>
<a class='' href='../../api/proton/page/default_ext_.html'>
default_ext
</a>
</li>
<li>
<a class='' href='../../api/proton/page/depth_.html'>
depth
</a>
</li>
<li>
<a class='' href='../../api/proton/page/file_.html'>
file
</a>
</li>
<li>
<a class='' href='../../api/proton/page/filepath_.html'>
filepath
</a>
</li>
<li>
<a class='' href='../../api/proton/page/mime_type_.html'>
mime_type
</a>
</li>
<li>
<a class='' href='../../api/proton/page/parent_.html'>
parent
</a>
</li>
<li>
<a class='' href='../../api/proton/page/project_.html'>
project
</a>
</li>
<li>
<a class='' href='../../api/proton/page/tilt_.html'>
tilt
</a>
</li>
<li>
<a class='' href='../../api/proton/page/tilt_engine_.html'>
tilt_engine
</a>
</li>
<li>
<a class='' href='../../api/proton/page/title_.html'>
title
</a>
</li>
</ul>
</nav>
<nav>
<h4>Methods</h4>
<ul>
<li>
<a class='' href='../../api/proton/page/children_.html'>
children
</a>
</li>
<li>
<a class='' href='../../api/proton/page/default_layout_.html'>
default_layout
</a>
</li>
<li>
<a class='' href='../../api/proton/page/get_type_.html'>
get_type
</a>
</li>
<li>
<a class='' href='../../api/proton/page/html_question_.html'>
html?
</a>
</li>
<li>
<a class='' href='../../api/proton/page/index_question_.html'>
index?
</a>
</li>
<li>
<a class='' href='../../api/proton/page/meta_.html'>
meta
</a>
</li>
<li>
<a class='' href='../../api/proton/page/parent_question_.html'>
parent?
</a>
</li>
<li>
<a class='' href='../../api/proton/page/root_question_.html'>
root?
</a>
</li>
<li>
<a class='' href='../../api/proton/page/siblings_.html'>
siblings
</a>
</li>
<li>
<a class='' href='../../api/proton/page/tilt_question_.html'>
tilt?
</a>
</li>
<li>
<a class='' href='../../api/proton/page/to_html_.html'>
to_html
</a>
</li>
<li>
<a class='' href='../../api/proton/page/write_.html'>
write
</a>
</li>
</ul>
</nav>
</nav>
</div>
</div>
<script src='http://cachedcommons.org/cache/prettify/1.0.0/javascripts/prettify-min.js' type='text/javascript'></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/1.6.2/jquery.min.js' type='text/javascript'></script>
<script type='text/javascript'>
  //<![CDATA[
    $(function () {
      $("pre").each(function() {
        var r = /\[(.*?)\s*\((.*?)\)\]\n*/;
        var m = $(this).text().match(r);
    
        $(this).addClass('prettyprint');
    
        if (m) {
          var file = m[1];
          var type = m[2];
          $(this).addClass('lang-'+type);
    
          if (file.length) {
            $(this).addClass('has-caption');
            $(this).prepend($("<h5 class='caption'>").text(file));
          }
    
          $(this).html($(this).html().replace(r, ''));
        }
    
        if ($(this).text().match(/^\s*([a-zA-Z_~\/]*)\$ /)) {
          $(this).addClass('terminal');
          $(this).removeClass('prettyprint');
          $(this).html($(this).html().replace(/([a-zA-Z_~\/]*\$ )(.*?)[\r\n$]/g, "<strong><em>$1</em>$2</strong>\n"));
        }
      });
    
      prettyPrint();
    });
  //]]>
</script>
</body>
</html>
